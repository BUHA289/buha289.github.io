### Session

<aside> ğŸ“š Cookieë¥¼ ì‚¬ìš©í•œ ë°©ì‹ì€ ì—¬ëŸ¬ê°€ì§€ ë³´ì•ˆ ë¬¸ì œê°€ ìˆë‹¤. ê²°êµ­ ë³´ì•ˆ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì¤‘ìš”í•œ ì •ë³´ëŠ” ëª¨ë‘ ì„œë²„ì—ì„œ ì €ì¥í•´ì•¼í•œë‹¤. Clientì™€ ì„œë²„ëŠ” ì˜ˆì¸¡ì´ ë¶ˆê°€ëŠ¥í•œ ì„ì˜ì˜ ê°’ìœ¼ë¡œ ì—°ê²°í•´ì•¼ í•œë‹¤.

</aside>

<aside> ğŸ’¡ ì„œë²„ì—ì„œ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ë³´ê´€í•˜ë©° ë¡œê·¸ì¸ ì—°ê²°ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì„ **Session** ì´ë¼ê³  í•œë‹¤. ì•ì„œ ë°°ìš´ CookieëŠ” ì¤‘ìš”í•œ ì •ë³´ë¥¼ Clientì¸¡ì—ì„œ ë³´ê´€í•˜ê³  ìˆëŠ”ê²ƒì´ë‹¤.

</aside>

- **Session ìƒì„± ìˆœì„œ**

  ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F87df3d64-39b7-42a0-bf17-d7bb63580920%2FUntitled.png?table=block&id=1342dc3e-f514-81cb-abaa-c2ba4dd546a9&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=960&userId=&cache=v2)

  1. ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ Serverì—ì„œ ì„ì˜ë¡œ ë§Œë“  Session IDë¥¼ ìƒì„±í•œë‹¤.
     - Session IDëŠ” ì˜ˆì¸¡ì´ ë¶ˆê°€ëŠ¥í•´ì•¼ í•œë‹¤.
     - UUIDì™€ ê°™ì€ ê°’ì„ í™œìš©í•œë‹¤.
  2. ìƒì„±ëœ Session IDì™€ ì¡°íšŒí•œ User ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„œë²„ì˜ Session ì €ì¥ì†Œì— ì €ì¥í•œë‹¤.
     - ì„œë²„ì— ìœ ì €ì™€ ê´€ë ¨ëœ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.

- **Session ë™ì‘ ìˆœì„œ**

  1. **ë¡œê·¸ì¸**

     ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fce5e77c7-ef71-4702-bdfb-0e6fbcfeb70b%2FUntitled.png?table=block&id=1342dc3e-f514-8113-aa6d-db70857e7f3f&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=960&userId=&cache=v2)

     - ìƒíƒœìœ ì§€ë¥¼ ìœ„í•´ Cookieë¥¼ ì‚¬ìš©í•œë‹¤.
       - ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì— `Set-Cookie: SessionId=ì„ì˜ìƒì„±ê°’` ì„ ì „ë‹¬í•œë‹¤.
       - í´ë¼ì´ì–¸íŠ¸ëŠ” Cookie ì €ì¥ì†Œì— ì „ë‹¬ë°›ì€ `SessionId` ê°’ì„ ì €ì¥í•œë‹¤.
     - Sessionsì„ ì‚¬ìš©í•˜ë©´ **ìœ ì €ì™€ ê´€ë ¨ëœ ì •ë³´ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ì—†ë‹¤.**

  2. **ë¡œê·¸ì¸ ì´í›„ ìš”ì²­**

     ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F9727910d-6162-4b20-ba43-e33f798be633%2FUntitled.png?table=block&id=1342dc3e-f514-81fa-8b4c-d778f05bdc27&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=960&userId=&cache=v2)

     - í´ë¼ì´ì–¸íŠ¸ëŠ” ëª¨ë“  ìš”ì²­ì— `Cookie` ì˜ `SessionId`ë¥¼ ì „ë‹¬í•œë‹¤.
     - ì„œë²„ì—ì„œëŠ” `Cookie`ë¥¼ í†µí•´  ì „ë‹¬ëœ `SessionId`ë¡œ Session ì €ì¥ì†Œë¥¼ ì¡°íšŒí•œë‹¤.
     - ë¡œê·¸ì¸ ì‹œ ì €ì¥í•˜ì˜€ë˜ Session ì •ë³´ë¥¼ ì„œë²„ì—ì„œ ì‚¬ìš©í•œë‹¤.

- **Session íŠ¹ì§•**

  1. Sessionì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì—ì„œ ë¯¼ê°í•œ ì •ë³´ë“¤ì„ ì €ì¥í•œë‹¤.
     - ì˜ˆì¸¡ì´ ë¶ˆê°€ëŠ¥í•œ ì„¸ì…˜ IDë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ í‚¤ê°’ì„ ë³€ì¡°í•´ë„ ë¬¸ì œê°€ ì—†ë‹¤.
     - ì„¸ì…˜ IDì— ì¤‘ìš”í•œ ì •ë³´ëŠ” ë“¤ì–´ìˆì§€ ì•Šë‹¤.
     - ì‹œê°„ì´ ì§€ë‚˜ë©´ ì„¸ì…˜ì´ ë§Œë£Œë˜ë„ë¡ ì„¤ì •í•œë‹¤.
     - í•´í‚¹ì´ ì˜ì‹¬ë˜ëŠ” ê²½ìš° í•´ë‹¹ ì„¸ì…˜ì„ ì œê±°í•˜ë©´ ëœë‹¤.
  2. Sessionì€ íŠ¹ë³„í•œê²ƒì´ ì•„ë‹ˆë¼ ë‹¨ì§€ Cookieë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ë‹Œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•´ë‘ëŠ” ë°©ë²•ì´ë‹¤.
  3. Servletì€ Session ì„ ìì²´ì ìœ¼ë¡œ ì§€ì›í•œë‹¤.

### Servletì˜ HttpSession

<aside> ğŸ“š Servletì´ ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” Sessionì¸ HttpSessionì€ Session êµ¬í˜„ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ì§€ì›í•œë‹¤.

</aside>

- **ìƒìˆ˜ë¥¼ í´ë˜ìŠ¤ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•**

  ```java
  // ì¶”ìƒí´ë˜ìŠ¤ -> O
  public abstract class Const {
  	public static final String LOGIN_USER = "loginUser";
  }
  
  // ì¸í„°í˜ì´ìŠ¤ -> O
  public interface Const {
  	String LOGIN_USER = "loginUser";
  }
  
  // í´ë˜ìŠ¤ -> X
  public class Const { // new Const();
  	public static final String LOGIN_USER = "loginUser";
  }
  
  // Const.LOGIN_USER; O
  // new Const(); X
  ```

  - ìƒìˆ˜ë¡œ í™œìš©í•  classëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±(new)í•˜ì§€ ì•ŠëŠ”ë‹¤.
  - `abstract` ì¶”ìƒí´ë˜ìŠ¤ í˜¹ì€ `interface` ë¡œ ë§Œë“¤ì–´ ìƒìˆ˜ê°’ë§Œ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ì–´ë‘ë©´ ëœë‹¤.

<aside> ğŸ’¡ Servletì„ í†µí•´ `HttpSession` ì„ ìƒì„±í•˜ê²Œë˜ë©´ `SessionId` ê°€ `JSESSIONID`ë¡œ ìƒì„±ë˜ê³  `JSESSIONID`ì˜ ValueëŠ” ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ëœë¤ê°’ìœ¼ë¡œ ìƒì„±ëœë‹¤.

</aside>

- **ì½”ë“œì˜ˆì‹œ**

  - SessionUserController

    ```java
    @Controller
    @RequiredArgsConstructor
    public class SessionUserController {
    
        private final UserService userService;
    
        @PostMapping("/session-login")
        public String login(
                @Valid @ModelAttribute LoginRequestDto dto,
                HttpServletRequest request
        ) {
    
            LoginResponseDto responseDto = userService.login(dto.getUserName(), dto.getPassword());
            Long userId = responseDto.getId();
    
            // ì‹¤íŒ¨ì‹œ ì˜ˆì™¸ì²˜ë¦¬
            if (userId == null) {
                return "session-login";
            }
    
            // ë¡œê·¸ì¸ ì„±ê³µì‹œ ë¡œì§
            // Sessionì˜ Default ValueëŠ” trueì´ë‹¤.
            // Sessionì´ requestì— ì¡´ì¬í•˜ë©´ ê¸°ì¡´ì˜ Sessionì„ ë°˜í™˜í•˜ê³ ,
            // Sessionì´ requestì— ì—†ì„ ê²½ìš°ì— ìƒˆë¡œ Sessionì„ ìƒì„±í•œë‹¤.
            HttpSession session = request.getSession();
    
            // íšŒì› ì •ë³´ ì¡°íšŒ
            UserResponseDto loginUser = userService.findById(userId);
    
            // Sessionì— ë¡œê·¸ì¸ íšŒì› ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.
            session.setAttribute(Const.LOGIN_USER, loginUser);
    
            // ë¡œê·¸ì¸ ì„±ê³µì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
            return "redirect:/session-home";
        }
    
        @PostMapping("/session-logout")
        public String logout(HttpServletRequest request) {
            // ë¡œê·¸ì¸í•˜ì§€ ì•Šìœ¼ë©´ HttpSessionì´ nullë¡œ ë°˜í™˜ëœë‹¤.
            HttpSession session = request.getSession(false);
            // ì„¸ì…˜ì´ ì¡´ì¬í•˜ë©´ -> ë¡œê·¸ì¸ì´ ëœ ê²½ìš°
            if(session != null) {
                session.invalidate(); // í•´ë‹¹ ì„¸ì…˜(ë°ì´í„°)ì„ ì‚­ì œí•œë‹¤.
            }
    
            return "redirect:/session-home";
        }
    }
    ```

    - `request.getSession();`

      ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F1da2bd2c-2876-4067-8a9a-0feddf44ec78%2FUntitled.png?table=block&id=1342dc3e-f514-811c-9bad-dbc1401abb65&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=770&userId=&cache=v2)

      ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fb0108085-75d3-4b10-8f8b-57ad9671f4c3%2FUntitled.png?table=block&id=1342dc3e-f514-81af-b333-ef61c8900a72&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=770&userId=&cache=v2)

      - ```
        request.getSession(true);
        ```

        - Default ì„¤ì •
        - Request ê°ì²´ ë‚´ì— Sessionì´ ì¡´ì¬í•œë‹¤ë©´ ê¸°ì¡´ Sessionì„ ë°˜í™˜
        - Request ê°ì²´ ë‚´ì— Sessionì´ ì—†ìœ¼ë©´ **ìƒˆë¡œìš´ Sessionì„ ìƒì„±í•´ì„œ ë°˜í™˜**

      - ```
        request.getSession(false);
        ```

        - Request ê°ì²´ ë‚´ì— Sessionì´ ì¡´ì¬í•œë‹¤ë©´ ê¸°ì¡´ Sessionì„ ë°˜í™˜
        - Request ê°ì²´ ë‚´ì— Sessionì´ ì—†ìœ¼ë©´ **nullì„ ë°˜í™˜**

    - `session.setAttribute(Const.LOGIN_USER, responseDto);`

      - Sessionì— Dataë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ `request.setAttribute();` ì™€ ë¹„ìŠ·í•˜ë‹¤.
      - í•˜ë‚˜ì˜ Sessionì— ì—¬ëŸ¬ê°œì˜ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.

  - SessionHomeController

    <aside> ğŸ§‘â€ğŸ“ **ìš”êµ¬ì‚¬í•­1.** ë¡œê·¸ì¸í•œ íšŒì›ì´ë©´ `home` í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤. **ìš”êµ¬ì‚¬í•­2.** `home` í˜ì´ì§€ë¥¼ ë³´ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìˆ˜ì´ë‹¤. **ìš”êµ¬ì‚¬í•­3.** ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ íšŒì›ì´ë©´ `login` í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.

    </aside>

    ```java
    @Controller
    @RequiredArgsConstructor
    public class SessionHomeController {
    
        private final UserService userService;
    
        @GetMapping("/session-home")
        public String home(
                HttpServletRequest request,
                Model model
        ) {
    
            // defaultì¸ trueë¡œ ì„¤ì •ë˜ë©´ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ëŒë“¤ë„ ê°’ì€ ë¹„ì–´ìˆì§€ë§Œ ì„¸ì…˜ì´ ë§Œë“¤ì–´ì§„ë‹¤.
            // sessionì„ ìƒì„±í•  ì˜ë„ê°€ ì—†ë‹¤.
            HttpSession session = request.getSession(false);
    
            // sessionì´ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
            if(session == null) {
                return "session-login";
            }
    
            // sessionì— ì €ì¥ëœ ìœ ì €ì •ë³´ ì¡°íšŒ
            // ë°˜í™˜íƒ€ì…ì´ Objectì—¬ì„œ Type Castingì´ í•„ìš”í•˜ë‹¤.
            UserResponseDto loginUser = (UserResponseDto) session.getAttribute(Const.LOGIN_USER);
    
            // Sessionì— ìœ ì € ì •ë³´ê°€ ì—†ìœ¼ë©´ login í˜ì´ì§€ ì´ë™
            if (loginUser == null) {
                return "session-login";
            }
    
            // Sessionì´ ì •ìƒì ìœ¼ë¡œ ì¡°íšŒë˜ë©´ ë¡œê·¸ì¸ëœê²ƒìœ¼ë¡œ ê°„ì£¼
            model.addAttribute("loginUser", loginUser);
            // home í™”ë©´ìœ¼ë¡œ ì´ë™
            return "session-home";
    
        }
    }
    ```

    - Sessionì€ Memoryë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¦¬ì†ŒìŠ¤ë¥¼ ë‚­ë¹„í•˜ë©´ ì•ˆëœë‹¤.

  - session-home.html

    ```html
    <!DOCTYPE html>
    <html xmlns:th="<http://www.thymeleaf.org>">
    <head>
      <meta charset="UTF-8">
      <title>Home</title>
    </head>
    <body>
    <h1>Welcome Session Home!</h1>
    
    <p th:text="'ì•ˆë…•í•˜ì„¸ìš”, ' + ${loginUser.name} + 'ë‹˜!'">Hello, User!</p>
    
    <!-- ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
    <form th:action="@{/session-logout}" method="post" style="margin-top: 10px;">
      <button type="submit">Logout</button>
    </form>
    
    </body>
    </html>
    ```

  - session-login.html

    ```html
    <!DOCTYPE html>
    <html xmlns:th="<http://www.thymeleaf.org>">
    <head>
      <meta charset="UTF-8">
      <title>Session Login</title>
    </head>
    <body>
    <h2>Session Login</h2>
    <form th:action="@{/session-login}" method="post">
      <div>
        <label for="userName">Username:</label>
        <input type="text" id="userName" name="userName" required>
      </div>
      <div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>
      </div>
      <button type="submit">Login</button>
    </form>
    
    </body>
    </html>
    ```

- ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

  - session-home í˜ì´ì§€ ì ‘ê·¼

    ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Ff521f9f7-620a-477f-a7d1-729358440916%2Fimage.png?table=block&id=1342dc3e-f514-81ff-a642-cf9afa30a3bf&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2)

  - ë¡œê·¸ì¸ ì‹¤íŒ¨

    ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fef11577f-173f-476b-b2e5-5ae089a5fe28%2Fimage.png?table=block&id=1342dc3e-f514-8148-9c88-ced23332a116&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2)

  - ìµœì´ˆ ë¡œê·¸ì¸

    ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F8dff9a50-a552-42aa-9ff4-5445e511154e%2Fimage.png?table=block&id=1342dc3e-f514-813e-b440-dbef096bb593&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2)

    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/83c75a39-3aba-4ba4-a792-7aefe4b07895/8dff9a50-a552-42aa-9ff4-5445e511154e/image.png)

  - ì´í›„ ë¡œê·¸ì¸

    ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Ffd6a6f96-2fed-4928-9aff-513b5fc6a4c3%2Fimage.png?table=block&id=1342dc3e-f514-8177-acdb-d32a47c2db0a&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2)

  - ë¡œê·¸ì•„ì›ƒ

    ![img](https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2F50314b98-011a-4254-ae7f-5d1022c845c0%2Fimage.png?table=block&id=1342dc3e-f514-818e-a404-fdf3bddad8c2&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2)



## ğŸ§Š í•µì‹¬ ìš”ì•½: Session ì¸ì¦

### 1. **ì„¸ì…˜(Session)ì´ë€?**

- **ì„œë²„ê°€ ë¡œê·¸ì¸ ìƒíƒœ ì •ë³´ë¥¼ ë³´ê´€**í•˜ëŠ” ë°©ì‹
- í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ë‹¨ì§€ **ì„¸ì…˜ ID (SessionId) ì¿ í‚¤**ë§Œ ì „ë‹¬
- í´ë¼ì´ì–¸íŠ¸ëŠ” ì´í›„ ëª¨ë“  ìš”ì²­ì— ì´ IDë¥¼ ì¿ í‚¤ë¡œ ì „ì†¡
- ì„œë²„ëŠ” ì´ IDë¡œ **Session ì €ì¥ì†Œ**ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ë¥¼ êº¼ëƒ„

### 2. **Session vs Cookie ì°¨ì´**



| í•­ëª©      | Cookie ì¸ì¦                       | Session ì¸ì¦                         |
| --------- | --------------------------------- | ------------------------------------ |
| ì €ì¥ ìœ„ì¹˜ | í´ë¼ì´ì–¸íŠ¸ ë¸Œë¼ìš°ì €               | ì„œë²„ ë©”ëª¨ë¦¬(ë˜ëŠ” DB, Redis ë“±)       |
| ë³´ì•ˆ ìœ„í—˜ | ì¿ í‚¤ ìì²´ì— ë¯¼ê°ì •ë³´ ìˆì„ ìˆ˜ ìˆìŒ | í´ë¼ì´ì–¸íŠ¸ëŠ” ì˜¤ì§ `SessionId`ë§Œ ë³´ìœ  |
| íŠ¹ì§•      | í´ë¼ì´ì–¸íŠ¸ ìœ„ì£¼ ìƒíƒœ ê´€ë¦¬         | ì„œë²„ ìœ„ì£¼ ìƒíƒœ ê´€ë¦¬                  |

------

## ğŸ§Š Servlet ê¸°ë°˜ ì„¸ì…˜ ì²˜ë¦¬ íë¦„

###    - ë¡œê·¸ì¸ ì²˜ë¦¬ `/session-login`

1. `request.getSession()`ìœ¼ë¡œ ì„¸ì…˜ ìƒì„± ë˜ëŠ” ê°€ì ¸ì˜¤ê¸°
2. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì‚¬ìš©ì ì •ë³´ë¥¼ `session.setAttribute()`ë¡œ ì €ì¥
3. í´ë¼ì´ì–¸íŠ¸ì— ìë™ìœ¼ë¡œ `Set-Cookie: JSESSIONID=xxx` ë‚´ë ¤ê°

###   -  ë¡œê·¸ì¸ ìœ ì§€

- í´ë¼ì´ì–¸íŠ¸ëŠ” `Cookie`ì— ìˆëŠ” `JSESSIONID`ë¥¼ ìë™ ì „ì†¡
- ì„œë²„ëŠ” `request.getSession(false)`ë¡œ ì„¸ì…˜ ì¡°íšŒ
- ì„¸ì…˜ì— ìœ ì €ì •ë³´ê°€ ìˆìœ¼ë©´ ë¡œê·¸ì¸ ìœ ì§€ë¨

###   -  ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ `/session-logout`

- `request.getSession(false)`ë¡œ ì„¸ì…˜ ê°€ì ¸ì˜¤ê¸°
- `session.invalidate()` í˜¸ì¶œ â†’ ì„¸ì…˜ ì‚­ì œ ë° ë§Œë£Œ

------

## ğŸ§Š ì‹¤ë¬´ íŒ

- `JSESSIONID`ëŠ” ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ì—ì„œ ìë™ ê´€ë¦¬ëœë‹¤
- `request.getSession(false)`ëŠ” ë¡œê·¸ì¸ ì²´í¬ ì‹œ ë§¤ìš° ì¤‘ìš” (ìë™ ìƒì„± ë°©ì§€)
- `session.invalidate()`ëŠ” ë³´ì•ˆìƒ í•„ìˆ˜ ì²˜ë¦¬ (ì„¸ì…˜ í•˜ì´ì¬í‚¹ ë°©ì§€)

------

## ğŸ§Š ì‹¤ë¬´ í™•ì¥ í¬ì¸íŠ¸

1. **Session ì €ì¥ì†Œ ë³€ê²½**

   - ê¸°ë³¸: ë©”ëª¨ë¦¬ â†’ ì„œë²„ ì¬ì‹œì‘í•˜ë©´ ì‚¬ë¼ì§
   - í™•ì¥: Redis, DB ë“± ì™¸ë¶€ ì €ì¥ì†Œ ì‚¬ìš© (Spring Session + Redis)

2. **ì„¸ì…˜ ë³´ì•ˆ ê°•í™”**

   - `HttpOnly`, `Secure` ì¿ í‚¤ ì˜µì…˜
   - ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì • (`setMaxInactiveInterval()`)

3. **ì„¸ì…˜ ìœ ì§€ ì‹œê°„ ì„¤ì •**

   ```java
   
   session.setMaxInactiveInterval(1800); // 30ë¶„
   ```